---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getLatestBlogPost, getRelativeDate } from "../lib/blog";
import { shiftHeadingLevels } from "../lib/markdown";
const pageTitle = "Kyle Hebert";
const latestPost = await getLatestBlogPost();
const latestPostHtml = latestPost?.rendered?.html
  ? shiftHeadingLevels(latestPost.rendered.html, 2)
  : "";
---

<BaseLayout pageTitle={pageTitle} pageTitleLevel={1}>
  <h2>Hello and Welcome!</h2>
  <p>
    I'm Kyle Hebert, an engineering leader who spends a lot of time connecting
    dots. I work across multiple teams, focusing on technical health,
    system-level risk, and making sure product ambition lines up with what
    engineering can actually sustain. I’ve learned the hard way that authority
    isn’t the point—initiative is. I care about making good software, and even
    more about the people who make it.
  </p>
  <p>
    In my spare time I dabble in a lot of hobbies like video and board games,
    reading (mostly fiction), and attending as many live music shows as I can
    sustain.
  </p>
  <p>
    I live in Minneapolis, but I was born and raised in Louisiana. It's
    pronounced a-bear.
  </p>
  <p>Here's what I wrote {getRelativeDate(latestPost.data.pubDate)}:</p>
  {
    latestPost ? (
      <div class="latest-post">
        <h3>
          <a href={`/posts/${latestPost.id}/`}>{latestPost.data.title}</a>
        </h3>
        {latestPostHtml && (
          <div class="latest-post-content">
            <div set:html={latestPostHtml} />
          </div>
        )}
        <p>
          <a class="read-more" href={`/posts/${latestPost.id}/`}>
            Continue reading →
          </a>
        </p>
      </div>
    ) : (
      <p>No posts yet.</p>
    )
  }
  <style>
    .latest-post {
      font-size: 1.25rem;
      margin-left: 2.5rem;
      margin-right: 2.5rem;
      line-height: 1.625rem;
    }

    .latest-post-content :global(h1) {
      font-size: 1.5rem;
      line-height: 1.875rem;
    }

    .latest-post-content :global(h2) {
      font-size: 1.25rem;
      line-height: 1.625rem;
    }

    .latest-post-content :global(h3) {
      font-size: 1.125rem;
      line-height: 1.5rem;
    }

    .latest-post-content :global(h4) {
      font-size: 1rem;
      line-height: 1.375rem;
    }

    .latest-post-content :global(h5) {
      font-size: 0.95rem;
      line-height: 1.25rem;
    }

    .latest-post-content :global(h6) {
      font-size: 0.9rem;
      line-height: 1.125rem;
    }

    .latest-post-content :global(p:nth-of-type(3) ~ *) {
      display: none;
    }

    .read-more {
      text-decoration: underline;
      font-weight: 600;
    }
  </style>
</BaseLayout>
